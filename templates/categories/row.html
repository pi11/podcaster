<tr id="category-{{ category.id }}" class="hover:bg-gray-50">
    <td class="py-2 px-4 border">{{ category.id }}</td>
    <td class="py-2 px-4 border">
        <span id="category-name-{{ category.id }}">{{ category.name }}</span>
        <!-- Inline Edit Form (Initially Hidden) -->
        <form id="edit-form-{{ category.id }}" 
              class="hidden" 
              hx-post="/categories/{{ category.id }}" 
              hx-target="#category-{{ category.id }}" 
              hx-swap="outerHTML">
            <div class="flex space-x-2">
                <input type="text" 
                       name="name" 
                       value="{{ category.name }}" 
                       required 
                       class="flex-grow px-2 py-1 border rounded text-sm">
                <button type="submit" 
                        class="bg-blue-600 text-white px-2 py-1 rounded text-sm">
                    Save
                </button>
                <button type="button" 
                        onclick="toggleEditForm('{{ category.id }}')"
                        class="bg-gray-300 text-gray-700 px-2 py-1 rounded text-sm">
                    Cancel
                </button>
            </div>
        </form>
    </td>
    <td class="py-2 px-4 border">
        <div class="flex flex-wrap gap-1">
            {% for identification in category.identifications %}
                <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded">
                    {{ identification.name }}
                </span>
            {% endfor %}
            {% if not category.identifications %}
                <span class="text-gray-500 text-sm italic">None</span>
            {% endif %}
        </div>
    </td>
    <td class="py-2 px-4 border">
        <div class="flex space-x-2">
            <a href="/categories/{{ category.id }}" 
               class="text-blue-600 hover:underline">
                View
            </a>
            <button onclick="toggleEditForm('{{ category.id }}')"
                    class="text-indigo-600 hover:underline">
                Edit
            </button>
            <button hx-post="/categories/{{ category.id }}/delete"
                    hx-confirm="Are you sure you want to delete this category? This will also delete all its identifications."
                    hx-target="#category-{{ category.id }}"
                    hx-swap="outerHTML"
                    class="text-red-600 hover:underline">
                Delete
            </button>
        </div>
    </td>
</tr>
